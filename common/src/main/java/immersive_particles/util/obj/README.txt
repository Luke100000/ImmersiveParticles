This is a heavily modified and cropped version of https://github.com/seanrowens/oObjLoader